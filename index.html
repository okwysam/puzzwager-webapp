<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PuzzWager WebApp</title>
</head>
<body>

  <h2 id="welcome">Welcome to PuzzWager</h2>

  <!-- Telegram Login -->
  <div id="telegram-login-button"></div>

  <!-- Ethereum Wallet -->
  <button onclick="connectWallet()">Connect ETH Wallet</button>
  <p id="wallet-address">ETH Wallet not connected</p>

  <!-- TON Wallet -->
  <div id="ton-wallet-button"></div>
  <p id="ton-address">TON Wallet not connected</p>

  <!-- Optional Challenge Form Placeholder -->
  <div id="challenge-section">
    <p>Coming Soon: Stake & Challenge</p>
  </div>

  <!-- SDKs and Your Scripts -->
<script>
  let tg = window.Telegram.WebApp;
  tg.expand();

  if (!tg.initDataUnsafe || !tg.initDataUnsafe.user) {
    // Not accessed through Telegram
    window.location.href = "https://t.me/PuzzWager_bot"; // Force redirect to Telegram
  } else {
    const user = tg.initDataUnsafe.user;
    console.log("Authenticated Telegram User:", user);

    // Display user info
    if (user) {
        document.body.innerHTML += `<p>Welcome, ${user.first_name}!</p>`;
  }
  </script>
<script>
        let tg = window.Telegram.WebApp;
        tg.expand();  // Expands the app to full screen

        console.log("Telegram WebApp Loaded:", tg);
    </script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.7.8/dist/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>

  <!-- Your JS Files -->
  <script src="js/telegram.js"></script>
  <script src=".js/web3.js"></script>
  <script src=".js/app.js"></script>

</body>
</html>
